function downloadCSV() {
    var table = document.getElementById("dataList2Table");
    var rows = table.getElementsByTagName("tr");
    var csv = [];

    for (var i = 0; i < rows.length; i++) {
      var row = [], cols = rows[i].querySelectorAll("td, th");
      for (var j = 0; j < cols.length; j++) {
        row.push(cols[j].innerText);
      }
      csv.push(row.join(","));
    }

    var csvContent = "data:text/csv;charset=utf-8," + csv.join("\n");
    var encodedUri = encodeURI(csvContent);
    var link = document.createElement("a");
    link.setAttribute("href", encodedUri);
    link.setAttribute("download", "table_data.csv");
    document.body.appendChild(link); // Required for FF
    link.click();
  }

  document.getElementById("downloadCSVBtn").addEventListener("click", downloadCSV);
